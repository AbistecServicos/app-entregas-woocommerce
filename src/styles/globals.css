@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==============================================================================
   CORRE√á√ïES CROSS-BROWSER - ELIMINA ERROS NO FIREFOX
   ============================================================================== */

/* ------------------------------------------------------------------------------
   BLOCO 1: CORRE√á√ïES DE COMPATIBILIDADE (VERS√ÉO CORRIGIDA)
   ------------------------------------------------------------------------------ */

/**
 * üîß CORRE√á√ÉO: text-size-adjust cross-browser
 */
html {
  text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
}

/**
 * üîß CORRE√á√ÉO: font-smoothing cross-browser
 */
body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-smoothing: antialiased;
}

/**
 * üîß CORRE√á√ÉO: Remove apar√™ncia nativa APENAS de elementos espec√≠ficos
 * N√ÉO aplica a inputs do tipo checkbox/radio para mant√™-los vis√≠veis
 */
button, select, textarea {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  background: none;
  border: none;
  font: inherit;
}

/**
 * üéØ CORRE√á√ÉO CR√çTICA: Preserva checkboxes e radios
 * N√ÉO remove background e border de checkboxes
 */
input[type="checkbox"],
input[type="radio"] {
  /* MANT√âM a apar√™ncia nativa dos checkboxes */
  -webkit-appearance: auto !important;
  -moz-appearance: auto !important;
  appearance: auto !important;
  background: auto !important;
  border: auto !important;
}

/**
 * üîß CORRE√á√ÉO: -moz-focus-inner (apenas para bot√µes)
 */
button::-moz-focus-inner,
select::-moz-focus-inner,
textarea::-moz-focus-inner {
  border: 0;
  padding: 0;
  margin: 0;
}

/* ------------------------------------------------------------------------------
   BLOCO 2: ACESSIBILIDADE MODERNA (SUBSTITUI -moz-focus-inner)
   ------------------------------------------------------------------------------ */

/**
 * üéØ SUBSTITUI√á√ÉO: Sistema de foco moderno e acess√≠vel
 * Substitui o -moz-focus-inner por solu√ß√£o cross-browser
 * :focus-visible s√≥ mostra outline quando navegando com teclado
 */
*:focus-visible {
  outline: 2px solid #8b5cf6;    /* Cor roxa do seu tema */
  outline-offset: 2px;           /* Espa√ßamento da borda */
  border-radius: 0.25rem;        /* Cantos arredondados */
}

/**
 * üéØ Foco espec√≠fico para bot√µes de notifica√ß√£o
 * Estilo consistente para elementos interativos
 */
.notification-button:focus-visible {
  outline: 2px solid #8b5cf6;
  outline-offset: 2px;
  border-radius: 0.375rem;
}

/* ==============================================================================
   VARI√ÅVEIS DE CORES E ESTILOS GLOBAIS
   ============================================================================== */

/* ------------------------------------------------------------------------------
   BLOCO 3: SISTEMA DE CORES DO TEMA
   ------------------------------------------------------------------------------ */

/**
 * üé® PALETA DE CORES: Defini√ß√£o centralizada
 * Todas as cores do sistema em um s√≥ lugar
 * F√°cil manuten√ß√£o e consist√™ncia visual
 */
:root {
  /* Cores principais do tema Woo */
  --woo-purple: #7f54b3;
  --woo-purple-dark: #6b3fa0;
  --woo-purple-light: #f0e6ff;
  
  /* Cores para sistema de notifica√ß√µes */
  --notification-red: #ef4444;    /* Erro/Cr√≠tico */
  --notification-green: #10b981;  /* Sucesso */
  --notification-blue: #3b82f6;   /* Informa√ß√£o */
  --notification-yellow: #f59e0b; /* Aviso */
}

/* ==============================================================================
   ESTILOS GERAIS DO BODY
   ============================================================================== */

/* ------------------------------------------------------------------------------
   BLOCO 4: CONFIGURA√á√ïES GLOBAIS DO BODY
   ------------------------------------------------------------------------------ */

/**
 * üìù CONFIGURA√á√ÉO: Estilos base do documento
 * Define fonte, reset de margin/padding
 * Garante consist√™ncia visual inicial
 */
body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
  margin: 0;      /* Remove margin padr√£o */
  padding: 0;     /* Remove padding padr√£o */
}

/* ==============================================================================
   CABE√áALHO FIXO
   ============================================================================== */

/* ------------------------------------------------------------------------------
   BLOCO 5: CABE√áALHO STICKY
   ------------------------------------------------------------------------------ */

/**
 * üìå CABE√áALHO FIXO: Permanece vis√≠vel ao rolar
 * Usado para navega√ß√£o principal e notifica√ß√µes
 */
.sticky-header {
  position: sticky;   /* Fixo durante scroll */
  top: 0;            /* Cola no topo */
  z-index: 50;       /* Acima do conte√∫do */
  background: white; /* Fundo s√≥lido */
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); /* Sombra suave */
  border-bottom: 2px solid #e9d5ff; /* Destaque roxo */
}

/* ==============================================================================
   SISTEMA DE NOTIFICA√á√ïES PUSH
   ============================================================================== */

/* ------------------------------------------------------------------------------
   BLOCO 6: ANIMA√á√ïES PARA NOTIFICA√á√ïES
   ------------------------------------------------------------------------------ */

/**
 * üé≠ ANIMA√á√ÉO: Aparecimento suave do toast
 * Entrada animada para chamar aten√ß√£o
 */
@keyframes notification-fade-in {
  from {
    opacity: 0;
    transform: translateY(-20px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/**
 * üé≠ ANIMA√á√ÉO: Pulsa√ß√£o para badge
 * Destaque cont√≠nuo para notifica√ß√µes n√£o lidas
 */
@keyframes notification-pulse {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.15);
  }
}

/**
 * üé≠ ANIMA√á√ÉO: Agita√ß√£o para urg√™ncia
 * Para notifica√ß√µes cr√≠ticas que exigem aten√ß√£o imediata
 */
@keyframes notification-shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-5px); }
  75% { transform: translateX(5px); }
}

/* ------------------------------------------------------------------------------
   BLOCO 7: CLASSES DE ANIMA√á√ÉO APLIC√ÅVEIS
   ------------------------------------------------------------------------------ */

/**
 * ‚ö° CLASSES UTILIT√ÅRIAS: Aplicam as anima√ß√µes
 * Use essas classes nos componentes React
 */
.animate-notification-fade-in {
  animation: notification-fade-in 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-notification-pulse {
  animation: notification-pulse 2s infinite;
}

.animate-notification-shake {
  animation: notification-shake 0.5s ease-in-out;
}

/* ------------------------------------------------------------------------------
   BLOCO 8: TOAST DE NOTIFICA√á√ÉO
   ------------------------------------------------------------------------------ */

/**
 * üîî TOAST: Notifica√ß√£o tempor√°ria no canto da tela
 * Aparece por alguns segundos e some automaticamente
 */
.notification-toast {
  position: fixed;      /* Fixo na tela */
  top: 1rem;           /* Dist√¢ncia do topo */
  right: 1rem;         /* Alinhado √† direita */
  z-index: 100;        /* Acima de tudo */
  max-width: 24rem;    /* Largura m√°xima */
  width: 90%;          /* Largura responsiva */
  background: white;   /* Fundo branco */
  border-radius: 0.75rem; /* Cantos arredondados */
  box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  border: 1px solid #e5e7eb; /* Borda sutil */
  overflow: hidden;    /* Esconde conte√∫do extra */
}

/**
 * üñ±Ô∏è INTERATIVIDADE: Efeitos hover no toast
 * Feedback visual ao passar o mouse
 */
.notification-toast:hover {
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  transform: translateY(-1px); /* Levanta sutilmente */
  transition: all 0.2s ease-in-out; /* Transi√ß√£o suave */
}

/* ------------------------------------------------------------------------------
   BLOCO 9: BADGE DE NOTIFICA√á√ïES
   ------------------------------------------------------------------------------ */

/**
 * üî¥ BADGE: Contador de notifica√ß√µes n√£o lidas
 * Aparece sobre o √≠cone no header
 */
.notification-badge {
  position: absolute;    /* Posicionamento absoluto */
  top: -0.25rem;        /* Acima do √≠cone */
  right: -0.25rem;      /* √Ä direita do √≠cone */
  background-color: var(--notification-red); /* Vermelho padr√£o */
  color: white;         /* Texto branco */
  border-radius: 9999px; /* C√≠rculo perfeito */
  min-width: 1.25rem;   /* Largura m√≠nima */
  height: 1.25rem;      /* Altura fixa */
  display: flex;        /* Flex para centralizar */
  align-items: center;  /* Centraliza vertical */
  justify-content: center; /* Centraliza horizontal */
  font-size: 0.75rem;   /* Texto pequeno */
  font-weight: 600;     /* Texto em negrito */
  line-height: 1;       /* Altura de linha */
  border: 2px solid white; /* Borda branca para contraste */
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Sombra sutil */
}

/**
 * üü° BADGE ESTADO: Muitas notifica√ß√µes
 * Muda para amarelo e anima diferente
 */
.notification-badge--many {
  background-color: var(--notification-yellow); /* Amarelo alerta */
  animation: notification-pulse 1s infinite, notification-shake 0.5s ease-in-out;
}

/**
 * üî¥ BADGE ESTADO: Cr√≠tico/Urgente
 * Vermelho com pulsa√ß√£o r√°pida
 */
.notification-badge--critical {
  background-color: var(--notification-red); /* Vermelho urgente */
  animation: notification-pulse 0.5s infinite; /* Pulsa√ß√£o r√°pida */
}

/* ------------------------------------------------------------------------------
   BLOCO 10: BOT√ÉO DE NOTIFICA√á√ïES
   ------------------------------------------------------------------------------ */

/**
 * üîò BOT√ÉO: √çcone de notifica√ß√µes no header
 * Ponto central para acessar notifica√ß√µes
 */
.notification-button {
  position: relative;   /* Para posicionar o badge */
  padding: 0.5rem;     /* Espa√ßamento interno */
  border-radius: 0.375rem; /* Cantos arredondados */
  color: #6b7280;      /* Cor cinza padr√£o */
  transition: all 0.2s ease-in-out; /* Transi√ß√µes suaves */
}

/**
 * üñ±Ô∏è BOT√ÉO INTERA√á√ÉO: Estados hover e focus
 * Feedback visual para intera√ß√£o
 */
.notification-button:hover {
  color: #374151;          /* Cor mais escura */
  background-color: #f9fafb; /* Fundo sutil */
  transform: translateY(-1px); /* Efeito de levantar */
}

/**
 * üîò BOT√ÉO COM NOTIFICA√á√ïES: Destaque quando h√° notifica√ß√µes
 * Muda cor para roxo quando h√° notifica√ß√µes n√£o lidas
 */
.notification-button--has-notifications {
  color: var(--woo-purple); /* Cor roxa do tema */
}

/* ------------------------------------------------------------------------------
   BLOCO 11: LISTA DE NOTIFICA√á√ïES (PARA IMPLEMENTA√á√ÉO FUTURA)
   ------------------------------------------------------------------------------ */

/**
 * üìã LISTA: Dropdown/modal com hist√≥rico de notifica√ß√µes
 * Para quando implementar lista completa
 */
.notification-list {
  position: absolute;   /* Posicionamento absoluto */
  top: 100%;           /* Abaixo do bot√£o */
  right: 0;            /* Alinhado √† direita */
  margin-top: 0.5rem;  /* Espa√ßo do bot√£o */
  width: 20rem;        /* Largura fixa */
  max-height: 24rem;   /* Altura m√°xima com scroll */
  overflow-y: auto;    /* Scroll vertical */
  background: white;   /* Fundo branco */
  border-radius: 0.75rem; /* Cantos arredondados */
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  border: 1px solid #e5e7eb; /* Borda sutil */
  z-index: 50;         /* Acima do conte√∫do */
}

/**
 * üìÑ ITEM: Notifica√ß√£o individual na lista
 * Cada notifica√ß√£o como item clic√°vel
 */
.notification-item {
  padding: 1rem;           /* Espa√ßamento interno */
  border-bottom: 1px solid #f3f4f6; /* Separador sutil */
  transition: background-color 0.2s ease-in-out; /* Transi√ß√£o suave */
}

.notification-item:hover {
  background-color: #f9fafb; /* Fundo ao passar mouse */
}

.notification-item:last-child {
  border-bottom: none;     /* Remove borda do √∫ltimo */
}

/**
 * üìÑ ITEM N√ÉO LIDO: Destaque para notifica√ß√µes novas
 * Background colorido e borda destacada
 */
.notification-item--unread {
  background-color: var(--woo-purple-light); /* Fundo roxo claro */
  border-left: 4px solid var(--woo-purple);   /* Borda roxa esquerda */
}

/* ------------------------------------------------------------------------------
   BLOCO 12: ESTADOS DO SISTEMA
   ------------------------------------------------------------------------------ */

/**
 * üü¢ CONECTADO: Sistema operando normalmente
 */
.notification-status--connected {
  color: var(--notification-green); /* Verde sucesso */
}

/**
 * üî¥ DESCONECTADO: Problemas de conex√£o
 */
.notification-status--disconnected {
  color: var(--notification-red); /* Vermelho erro */
}

/**
 * üü° CARREGANDO: Processamento em andamento
 */
.notification-status--loading {
  color: var(--notification-yellow); /* Amarelo alerta */
}

/* ==============================================================================
   RESPONSIVIDADE
   ============================================================================== */

/* ------------------------------------------------------------------------------
   BLOCO 13: AJUSTES PARA DISPOSITIVOS M√ìVEIS
   ------------------------------------------------------------------------------ */

/**
 * üì± MOBILE: Ajustes para telas menores que 768px
 * Otimiza experi√™ncia em smartphones
 */
@media (max-width: 768px) {
  /* Toast ocupa largura total com margens */
  .notification-toast {
    right: 0.5rem;
    left: 0.5rem;
    max-width: none;
    width: auto;
  }
  
  /* Lista em tela cheia no mobile */
  .notification-list {
    width: 100vw;       /* Largura total da viewport */
    right: -1rem;       /* Compensa padding */
    border-radius: 0;   /* Remove bordas para tela cheia */
  }
  
  /* Badge menor em mobile */
  .notification-badge {
    min-width: 1.125rem;
    height: 1.125rem;
    font-size: 0.625rem;
  }
}

/* ==============================================================================
   COMPONENTES TAILWIND PERSONALIZADOS
   ============================================================================== */

/* ------------------------------------------------------------------------------
   BLOCO 14: COMPONENTES PERSONALIZADOS COM @layer
   ------------------------------------------------------------------------------ */

/**
 * üé® COMPONENTES: Classes reutiliz√°veis com Tailwind
 * Use @layer para organiza√ß√£o e performance
 */
@layer components {
  /* Bot√£o estilizado com tema WooCommerce */
  .btn-notification {
    @apply bg-[var(--woo-purple)] text-white px-4 py-2 rounded-lg hover:bg-[var(--woo-purple-dark)] transition-colors focus:outline-none focus:ring-2 focus:ring-[var(--woo-purple)] focus:ring-offset-2;
  }
  
  /* Badge gen√©rico para status */
  .badge-notification {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
  }
  
  /* Varia√ß√µes de cor para o badge */
  .badge-notification--success {
    @apply bg-green-100 text-green-800;
  }
  
  .badge-notification--warning {
    @apply bg-yellow-100 text-yellow-800;
  }
  
  .badge-notification--error {
    @apply bg-red-100 text-red-800;
  }
}

/* ==============================================================================
   UTILIT√ÅRIOS E ESTADOS ESPECIAIS
   ============================================================================== */

/* ------------------------------------------------------------------------------
   BLOCO 15: UTILIT√ÅRIOS DO SISTEMA DE NOTIFICA√á√ïES
   ------------------------------------------------------------------------------ */

/**
 * üéØ ESCONDER: Anima√ß√£o para remover notifica√ß√µes
 * Sa√≠da suave quando notifica√ß√£o √© fechada
 */
.notification-hide {
  opacity: 0;                   /* Transparente */
  transform: translateX(100%);  /* Sai pela direita */
  transition: all 0.3s ease-in-out; /* Transi√ß√£o suave */
}

/**
 * üö® PRIORIDADE: Destaque m√°ximo para notifica√ß√µes importantes
 * Gradiente e borda vermelha para urg√™ncias
 */
.notification-priority {
  border-left: 4px solid var(--notification-red); /* Borda vermelha */
  background: linear-gradient(90deg, #fef2f2 0%, white 100%); /* Gradiente sutil */
}

/**
 * ‚è≥ SKELETON: Loading para notifica√ß√µes carregando
 * Efeito shimmer durante carregamento
 */
.notification-skeleton {
  background: linear-gradient(90deg, #f3f4f6 25%, #e5e7eb 50%, #f3f4f6 75%);
  background-size: 200% 100%;
  animation: loading 1.5s infinite;
}

@keyframes loading {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

/* ------------------------------------------------------------------------------
   BLOCO 16: ACESSIBILIDADE AVAN√áADA
   ------------------------------------------------------------------------------ */

/**
 * ‚ôø ACESSIBILIDADE: An√∫ncio para leitores de tela
 * Comunica novas notifica√ß√µes para usu√°rios com defici√™ncia visual
 */
.notification-announce {
  position: absolute;    /* Posicionamento fora da tela */
  left: -10000px;       /* Fora do viewport */
  top: auto;            /* Posi√ß√£o autom√°tica */
  width: 1px;           /* Largura m√≠nima */
  height: 1px;          /* Altura m√≠nima */
  overflow: hidden;     /* Esconde conte√∫do */
}